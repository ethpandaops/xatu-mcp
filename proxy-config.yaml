# Proxy server configuration for docker-compose
# Credentials are injected via environment variables

server:
  listen_addr: ":18081"
  read_timeout: 30s
  write_timeout: 5m
  idle_timeout: 60s

auth:
  mode: none  # No auth for local development

clickhouse:
  - name: "xatu"
    host: "${CLICKHOUSE_XATU_HOST}"
    database: "${CLICKHOUSE_XATU_DATABASE}"
    username: "${CLICKHOUSE_XATU_USERNAME}"
    password: "${CLICKHOUSE_XATU_PASSWORD}"
    secure: true
    timeout: 120

  - name: "xatu-cbt"
    host: "${CLICKHOUSE_CBT_HOST}"
    database: "${CLICKHOUSE_CBT_DATABASE}"
    username: "${CLICKHOUSE_CBT_USERNAME}"
    password: "${CLICKHOUSE_CBT_PASSWORD}"
    secure: true
    timeout: 120

  - name: "xatu-experimental"
    host: "${CLICKHOUSE_EXPERIMENTAL_HOST}"
    database: "${CLICKHOUSE_EXPERIMENTAL_DATABASE}"
    username: "${CLICKHOUSE_EXPERIMENTAL_USERNAME}"
    password: "${CLICKHOUSE_EXPERIMENTAL_PASSWORD}"
    secure: true
    timeout: 120

prometheus:
  - name: "platform"
    url: "${PROMETHEUS_PLATFORM_URL}"
    username: "${PROMETHEUS_PLATFORM_USERNAME}"
    password: "${PROMETHEUS_PLATFORM_PASSWORD}"

  - name: "devnets"
    url: "${PROMETHEUS_DEVNETS_URL}"
    username: "${PROMETHEUS_DEVNETS_USERNAME}"
    password: "${PROMETHEUS_DEVNETS_PASSWORD}"

loki:
  - name: "ethpandaops"
    url: "${LOKI_URL}"
    username: "${LOKI_USERNAME}"
    password: "${LOKI_PASSWORD}"

s3:
  endpoint: "${S3_ENDPOINT}"
  access_key: "${S3_ACCESS_KEY}"
  secret_key: "${S3_SECRET_KEY}"
  bucket: "ethpandaops-mcp-outputs"
  region: "us-east-1"
  public_url_prefix: "${S3_PUBLIC_URL}"
